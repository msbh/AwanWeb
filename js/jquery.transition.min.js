(function(b){function s(){setTimeout(v,0);return l=b.now()}function v(){l=void 0}var q={},i,p,w=/^(?:toggle|show|hide)$/,x=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,t,l,u=document.createElement("div").style;b.support.transition="MozTransition"in u?"MozTransition":"WebkitTransition"in u?"WebkitTransition":!1;b.fn.extend({animate:function(e,a,d,k){function c(){var y;!1===g.queue&&b._mark(this);var f=b.extend({},g),a=1===this.nodeType,k=a&&b(this).is(":hidden"),c,h,d,j,m;m=b.cssProps;var l=!f.step&&b.support.transition, r=[],n,o;f.animatedProperties={};f.transition={};for(d in e)if(c=b.camelCase(d),d!==c&&(e[c]=e[d],delete e[d]),(h=b.cssHooks[c])&&"expand"in h)for(d in j=h.expand(e[c]),delete e[c],j)d in e||(e[d]=j[d]);for(c in e){h=e[c];b.isArray(h)?(j=f.animatedProperties[c]=h[1],y=e[c]=h[0],h=y):j=f.animatedProperties[c]=f.specialEasing&&f.specialEasing[c]||f.easing||"swing";if(j=l&&a&&0<f.duration&&c.indexOf("scroll")&&("swing"==j?"ease":"linear"==j?j:!1))n=m[d]||d,o=n.replace(/([A-Z])/g,"-$1").toLowerCase(),j=o+ " "+f.duration+"ms "+j,f.transition[d]={lower:o,real:n},r.push(j);if("hide"===h&&k||"show"===h&&!k)return f.complete.call(this);if(a&&("height"===c||"width"===c))if(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===b.css(this,"display")&&"none"===b.css(this,"float")){if(!(h=!b.support.inlineBlockNeedsLayout)){h=this.nodeName;if(!q[h]){j=document.body;n=b("<"+h+">").appendTo(j);o=n.css("display");n.remove();if("none"===o||""===o){if(!i)i=document.createElement("iframe"), i.frameBorder=i.width=i.height=0;j.appendChild(i);if(!p||!i.createElement)p=(i.contentWindow||i.contentDocument).document,p.write(("CSS1Compat"===document.compatMode?"<!doctype html>":"")+"<html><body>"),p.close();n=p.createElement(h);p.body.appendChild(n);o=b.css(n,"display");j.removeChild(i)}q[h]=o}h="inline"===q[h]}h?this.style.display="inline-block":this.style.zoom=1}}if(null!=f.overflow)this.style.overflow="hidden";for(d in e)if(a=new b.fx(this,f,d),h=e[d],w.test(h))if(c=b._data(this,"toggle"+ d)||("toggle"===h?k?"show":"hide":0))b._data(this,"toggle"+d,"show"===c?"hide":"show"),a[c]();else a[h]();else c=x.exec(h),m=a.cur(),c?(h=parseFloat(c[2]),j=c[3]||(b.cssNumber[d]?"":"px"),"px"!==j&&(b.style(this,d,(h||1)+j),m*=(h||1)/a.cur(),b.style(this,d,m+j)),c[1]&&(h=("-="===c[1]?-1:1)*h+m),a.custom(m,h,j)):a.custom(m,h,"");if(l&&r.length)for(d in j=this.style[l],this.style[l]=r.join()+(j?","+j:""),f.transition)b.style.apply(null,f.transition[d].styleToSet);return!0}var g=b.speed(a,d,k);if(b.isEmptyObject(e))return this.each(g.complete, [!1]);e=b.extend({},e);return!1===g.queue?this.each(c):this.queue(g.queue,c)},stop:function(e,a,d){"string"!==typeof e&&(d=a,a=e,e=void 0);a&&!1!==e&&this.queue(e||"fx",[]);return this.each(function(){var a,c=!1,g=b.timers,f=b._data(this),y=b.support.transition;d||b._unmark(!0,this);if(null==e)for(a in f){if(f[a]&&f[a].stop&&a.indexOf(".run")===a.length-4){var i=f[a];b.removeData(this,a,!0);i.stop(d)}}else if(f[a=e+".run"]&&f[a].stop)f=f[a],b.removeData(this,a,!0),f.stop(d);for(a=g.length;a--;)if(g[a].elem=== this&&(null==e||g[a].queue===e)){if(d||y)g[a](d);d||g[a].saveState();c=!0;g.splice(a,1)}(!d||!c)&&b.dequeue(this,e)})}});b.extend(b.fx.prototype,{cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,a=b.css(this.elem,this.prop);return isNaN(e=parseFloat(a))?!a||"auto"===a?0:a:e},custom:function(e,a,d){function k(a){return c.step(a)}var c=this,g=b.fx,f=c.options.transition,i=this.prop;this.startTime=l||s();this.end=a;this.now= this.start=e;this.pos=this.state=0;this.unit=d||this.unit||(b.cssNumber[i]?"":"px");k.queue=this.options.queue;k.elem=this.elem;k.saveState=function(){c.options.hide&&void 0===b._data(c.elem,"fxshow"+c.prop)&&b._data(c.elem,"fxshow"+c.prop,c.start)};(k.transition=f[i])?(b.timers.push(k),"transform"!=i&&(c.elem.style[f[i].real]=b.css(c.elem,i)),f[i].styleToSet=[c.elem,i,a+c.unit],f[i].timeout=setTimeout(function(){b.timers.splice(b.timers.indexOf(k),1);c.step(!0)},c.options.duration)):k()&&b.timers.push(k)&& !t&&(t=setInterval(g.tick,g.interval))},step:function(e){var a,d=l||s(),i=!0,c=this.elem,g=this.options,f=g.transition[this.prop];if(f||e||d>=g.duration+this.startTime){f?(clearTimeout(f.timeout),e||(this.elem.style[f.real]=b.css(this.elem,f.real))):(this.now=this.end,this.pos=this.state=1,this.update());g.animatedProperties[this.prop]=!0;for(a in g.animatedProperties)!0!==g.animatedProperties[a]&&(i=!1);if(i){null!=g.overflow&&!b.support.shrinkWrapBlocks&&b.each(["","X","Y"],function(a,b){c.style["overflow"+ b]=g.overflow[a]});g.hide&&b(c).hide();if(g.hide||g.show)for(a in g.animatedProperties)b.style(c,a,g.orig[a]),b.removeData(c,"fxshow"+a,!0),b.removeData(c,"toggle"+a,!0);if(e=1===c.nodeType&&b.support.transition){f=","+c.style[e];for(a in g.transition)f=f.split(g.transition[a].lower).join("_");c.style[e]=f.replace(/, ?_[^,]*/g,"").substr(1)}if(a=g.complete)g.complete=!1,a.call(c)}return!1}Infinity==g.duration?this.now=d:(a=d-this.startTime,this.state=a/g.duration,this.pos=b.easing[g.animatedProperties[this.prop]](this.state, a,0,1,g.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return!0}});b.extend(b.fx,{tick:function(){for(var e,a=b.timers,d=0;d<a.length;d++)e=a[d],!e.transition&&!e()&&a[d]===e&&a.splice(d--,1);a.length||b.fx.stop()}})})(jQuery);